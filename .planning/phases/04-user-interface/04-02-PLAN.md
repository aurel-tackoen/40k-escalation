---
phase: 04-user-interface
plan: 02
type: execute
wave: 2
depends_on: [04-01]
files_modified:
  - app/components/views/ArmyListsView.vue
  - app/components/views/PairingsView.vue
  - app/components/views/MatchesView.vue
  - app/components/MatchCard.vue
  - app/pages/leagues/create.vue
  - app/pages/leagues/join.vue
  - app/pages/join/[token].vue
  - app/pages/index.vue
autonomous: true

must_haves:
  truths:
    - "User sees 'Phase' instead of 'Round' in all UI text"
    - "Filter labels show 'Phase' terminology"
    - "Timeline displays 'Phase N' labels"
    - "Empty state messages reference phases"
  artifacts:
    - path: "app/components/views/ArmyListsView.vue"
      provides: "Phase-labeled timeline and filters"
      contains: "Filter by Phase"
    - path: "app/components/MatchCard.vue"
      provides: "Phase badge display"
      contains: "Phase {{ match"
    - path: "app/pages/leagues/create.vue"
      provides: "Phase configuration section"
      contains: "Phases"
  key_links:
    - from: "app/components/views/ArmyListsView.vue"
      to: "template text"
      via: "v-for iteration labels"
      pattern: "Phase {{ phase.number }}"
---

<objective>
Update all user-visible template text from "Round" to "Phase" terminology throughout the application.

Purpose: Users should see consistent "Phase" terminology everywhere - in filters, labels, badges, timelines, and form fields. This completes the user-facing rename.

Output: All user-visible text displays "Phase" instead of "Round".
</objective>

<execution_context>
@./.claude/get-shit-done/workflows/execute-plan.md
@./.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/04-user-interface/04-01-SUMMARY.md
@.planning/phases/04-user-interface/04-RESEARCH.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Update ArmyListsView template text</name>
  <files>app/components/views/ArmyListsView.vue</files>
  <action>
Update all user-visible text in the template section. The script section was updated in 04-01.

**Manager section description (line 325):**
- "Build and manage army lists for each round of the escalation league." -> "Build and manage army lists for each phase of the escalation league."

**Timeline Filter section (lines 368-455):**
1. Header (line 372): "Filter by Round" -> "Filter by Phase"
2. Mobile select option (line 378): "All Rounds" -> "All Phases"
3. Mobile select option v-for (line 379-381):
   - `round in rounds` -> `phase in phases`
   - `round.number` -> `phase.number` (key and value)
   - "Round {{ round.number }}" -> "Phase {{ phase.number }}"
   - `getArmyCountForRound(round.number)` -> `getArmyCountForPhase(phase.number)`
4. Desktop "All Rounds" button (line 412): "All Rounds" -> "All Phases"
5. Desktop phase buttons v-for (lines 421-452):
   - `round in rounds` -> `phase in phases`
   - `round.number` -> `phase.number` (all occurrences)
   - "Round {{ round.number }}" -> "Phase {{ phase.number }}"
   - `getArmyCountForRound(round.number)` -> `getArmyCountForPhase(phase.number)`
   - Timeline indicator: `round.number <= currentRound` -> `phase.number <= currentPhase`

**Form Phase select (lines 521-526):**
Already says "Phase" - verify and leave as is.

**Copy from Previous Phase section (lines 556-585):**
Already uses "Phase" terminology - verify and leave as is.

**Table header (line 1080):**
"Round" -> "Phase"

**Empty state message (line 1218):**
- `No armies for Round ${selectedRound}` -> `No armies for Phase ${selectedPhase}`

Note: The loop variables should change from `round` to `phase` for consistency with the data coming from `phases` array, even though the object structure is the same.
  </action>
  <verify>
Grep for "Round" (case-sensitive) in ArmyListsView.vue - should only find references in escalation-related methods like "Escalate to Next Round" which should ALSO be updated to "Phase", or comments that can be left as is.
  </verify>
  <done>
All user-visible text in ArmyListsView displays "Phase" terminology. Timeline filter, table headers, and empty states use phase language.
  </done>
</task>

<task type="auto">
  <name>Task 2: Update MatchCard, PairingsView, and MatchesView template text</name>
  <files>
    app/components/MatchCard.vue
    app/components/views/PairingsView.vue
    app/components/views/MatchesView.vue
  </files>
  <action>
**MatchCard.vue changes (line 79):**
- "Round {{ match.round }}" -> "Phase {{ match.phase }}"
NOTE: The match object still has a `round` property from the database/API. We need to check if this was renamed in Phase 2. If API returns `phase`, use `match.phase`. If API still returns `round`, keep `match.round` but change label text.

IMPORTANT CHECK: Look at match API response structure. If matches still use `round` field (likely since matches table wasn't renamed), keep `match.round` but display "Phase {{ match.round }}".

**PairingsView.vue template changes:**
1. Empty state message (line 211): "No rounds configured" -> "No phases configured"
2. Empty state detail (line 212): "Set up rounds in League Setup first" -> "Set up phases in League Setup first"
3. Round selector label - already handled in 04-01 with roundOptions computed
4. Clear All modal title (line 480): Already uses selectedPhase from 04-01
5. Clear All modal message (line 481): Already uses selectedPhase from 04-01
6. Suggested method text (line 261): "(First round - use manual..." -> "(First phase - use manual..."
7. Toast messages referencing round (line 191): Already uses selectedPhase from 04-01

**MatchesView.vue template changes:**
1. Filter dropdown label (line 374): "All Rounds" -> "All Phases" - if not already done
2. Table header (line 454): "Round" -> "Phase"
3. Table cell badge (line 474): "Round {{ match.round }}" -> "Phase {{ match.round }}" (keep match.round as property name since that's the API field)

NOTE: Preserve `match.round` as the data property since matches table uses `round` column, but display text should say "Phase".
  </action>
  <verify>
Search each file for user-visible "Round" text - should find none except in variable/property names that reference the database field.
  </verify>
  <done>
MatchCard shows "Phase X" badge. PairingsView shows phase terminology in labels and messages. MatchesView shows "Phase" in filter and table.
  </done>
</task>

<task type="auto">
  <name>Task 3: Update league pages template text (create, join, token, index)</name>
  <files>
    app/pages/leagues/create.vue
    app/pages/leagues/join.vue
    app/pages/join/[token].vue
    app/pages/index.vue
  </files>
  <action>
**leagues/create.vue changes:**

1. Rounds section header (line 447): "Rounds" -> "Phases"
2. Auto Generate button area - the function generates rounds, but the UI should say "Phases"
3. Add Round button (line 465): "Add Round" -> "Add Phase"
4. Round card header (line 479): "Round {{ round.number }}" -> "Phase {{ round.number }}"
   Note: Keep `round` as loop variable since form.rounds is the array name (internal naming can stay)
5. Round Name label (line 495): "Round Name" -> "Phase Name"
6. Validation error messages in script that reference "round" (lines 180-200):
   - `Round ${round.number} name is required` -> `Phase ${round.number} name is required`
   - `Round ${round.number} must have a valid point limit` -> `Phase ${round.number} must have a valid point limit`
   - `Round ${round.number} start date is required` -> `Phase ${round.number} start date is required`
   - `Round ${round.number} end date is required` -> `Phase ${round.number} end date is required`
7. Auto-round modal title (line 619): "Auto-Generate Rounds" -> "Auto-Generate Phases"
8. Modal helper text (line 637): "we'll create the rounds for you" -> "we'll create the phases for you"
9. Modal button (line 721): "Generate Rounds" -> "Generate Phases"

Note: Keep internal variable names (form.rounds, addRound function, etc.) as-is - only change user-visible text.

**leagues/join.vue changes:**
1. Current Round stat label (line 184): "Current Round" -> "Current Phase"
2. The value `{{ league.currentRound || 1 }}` needs to become `{{ league.currentPhase || 1 }}` since store returns currentPhase

**join/[token].vue changes:**
1. Current Round display (line 239): "Round {{ league.currentRound }}" -> "Phase {{ league.currentPhase }}"

**pages/index.vue changes:**
Search for "round" in marketing copy. Based on file content:
1. Army List Builder feature text (line 123): "manage escalation across rounds" -> "manage escalation across phases"
2. Progressive Learning text (line 256): mentions rounds in context of point escalation - update to phases

Note: The index page has educational content about escalation leagues. All references to "rounds" in the context of escalation should become "phases".
  </action>
  <verify>
Run `npm run build` to verify no syntax errors.
Grep for user-visible "Round" text in these files - should find none except in tournament pairing method names (firstRoundPairingMethod, subsequentRoundMethod) which are intentionally preserved.
  </verify>
  <done>
League creation form shows "Phases" section. Join pages show "Current Phase". Landing page marketing copy uses phase terminology.
  </done>
</task>

</tasks>

<verification>
After all tasks complete:
1. `npm run build` passes without errors
2. Visual inspection: Navigate to each page and verify "Phase" appears instead of "Round":
   - /armies: Timeline filter shows "Phase 1", "Phase 2", etc.
   - /matches: Table header and badges show "Phase X"
   - /pairings: Phase selector shows "Phase N - Name"
   - /leagues/create: Section header shows "Phases", form labels show "Phase Name"
   - /leagues/join: Shows "Current Phase: X"
3. Grep verification: `grep -rn "Round" app/components/views/ app/pages/` - should only return:
   - Variable/property names (match.round, form.rounds)
   - Pairing method names (firstRoundPairingMethod, subsequentRoundMethod)
   - NOT user-visible UI text
</verification>

<success_criteria>
1. All timeline filters display "Phase N" labels
2. All table headers show "Phase" instead of "Round"
3. All badges display "Phase X"
4. All form labels use "Phase" terminology
5. All empty state messages reference phases
6. All marketing/help text uses phase terminology
7. Application compiles and runs without errors
</success_criteria>

<output>
After completion, create `.planning/phases/04-user-interface/04-02-SUMMARY.md`
</output>
