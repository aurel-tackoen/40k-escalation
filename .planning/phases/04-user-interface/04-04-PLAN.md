---
phase: 04-user-interface
plan: 04
type: execute
wave: 3
depends_on: ["04-01", "04-02", "04-03"]
files_modified:
  - app/components/views/DashboardView.vue
  - app/components/views/LeagueSetupView.vue
autonomous: true
gap_closure: true

must_haves:
  truths:
    - "Dashboard page shows 'Phase' in all user-visible labels"
    - "Setup page shows 'Phase' in all user-visible labels"
    - "Components access league.currentPhase correctly"
    - "Application renders without console errors"
  artifacts:
    - path: "app/components/views/DashboardView.vue"
      provides: "Dashboard with phase terminology"
      contains: "Current Phase"
    - path: "app/components/views/LeagueSetupView.vue"
      provides: "League setup with phase terminology"
      contains: "Phase Configuration"
  key_links:
    - from: "app/components/views/DashboardView.vue"
      to: "props.league"
      via: "computed property"
      pattern: "league\\.currentPhase"
    - from: "app/components/views/LeagueSetupView.vue"
      to: "editableLeague"
      via: "v-model binding"
      pattern: "editableLeague\\.currentPhase"
---

<objective>
Close terminology gaps in DashboardView and LeagueSetupView components.

Purpose: Verification found these two view components still display "Round" terminology to users. The /dashboard page is likely the first page users see after logging in, and /setup is where league owners configure phases. Both are high-visibility pages.

Output: Complete "Phase" terminology in all user-facing components.
</objective>

<execution_context>
@./.claude/get-shit-done/workflows/execute-plan.md
@./.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/04-user-interface/04-VERIFICATION.md
@.planning/phases/04-user-interface/04-03-SUMMARY.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Update DashboardView.vue terminology</name>
  <files>app/components/views/DashboardView.vue</files>
  <action>
Update user-visible text and store property access in the dashboard view.

**Computed property (lines 83-88):**
- Rename computed from `currentRound` to `currentPhase`
- Change `props.league.currentRound` to `props.league.currentPhase` (line 87)
- Keep internal variable name `currentRound` in the computed is fine, OR rename to currentPhase for clarity

**Current Phase card heading (line 123):**
- "Current Round" -> "Current Phase"

**Template references to computed (lines 125-126):**
- If computed renamed: update `currentRound.name` -> `currentPhase.name`
- Update `currentRound.pointLimit` -> `currentPhase.pointLimit`

**Army Lists card description (line 148):**
- "for current round" -> "for current phase"

**Current phase armies computed (lines 100-103):**
- Rename from `currentRoundArmies` to `currentPhaseArmies`
- Change `props.league.currentRound` to `props.league.currentPhase` (line 102)

**Template reference (line 147):**
- Update `currentRoundArmies` -> `currentPhaseArmies`

**PaintingProgress component prop (line 226):**
- `:currentRound="league?.currentRound || 1"` -> `:currentPhase="league?.currentPhase || 1"`
- NOTE: This requires PaintingProgress to accept currentPhase prop. Check if it does, or keep as currentRound if that's what the component expects.

**Rounds Schedule section heading (line 271):**
- "Rounds Schedule" -> "Phases Schedule"

**Round card highlighting (line 278):**
- `round.number === league.currentRound` -> `round.number === league.currentPhase`

**Active badge condition (line 285):**
- `round.number === league.currentRound` -> `round.number === league.currentPhase`

NOTE: Keep internal variable names in v-for loops (`:key="round.id"`, `v-for="round in league.rounds"`) unchanged - the data structure is still `rounds` array with `round` items. Only update user-visible text and the property access for current phase number.
  </action>
  <verify>
Run `npm run build` to verify no compilation errors.
Search for user-visible "Round" in template section - should find none except data property access like `round.name`, `round.number`.
  </verify>
  <done>
DashboardView shows "Current Phase", "for current phase", "Phases Schedule" and correctly accesses league.currentPhase.
  </done>
</task>

<task type="auto">
  <name>Task 2: Update LeagueSetupView.vue terminology</name>
  <files>app/components/views/LeagueSetupView.vue</files>
  <action>
Update user-visible text in the league setup view. Internal variable and function names can stay as-is (same pattern as admin components).

**Current Phase selector label (line 314):**
- "Current Round" -> "Current Phase"

**Current Phase selector options (line 317):**
- "Round {{ round.number }} - {{ round.name }}" -> "Phase {{ round.number }} - {{ round.name }}"

**Selector v-model (line 315):**
- `v-model.number="editableLeague.currentRound"` -> `v-model.number="editableLeague.currentPhase"`

**Phase Configuration section heading (line 496):**
- "Round Configuration" -> "Phase Configuration"

**Phase item subheading (line 505):**
- "Round {{ round.number }}" -> "Phase {{ round.number }}"

**Phase Name field label (line 518):**
- "Round Name" -> "Phase Name"

**Default name for new phase (line 106):**
- `name: \`Round ${newRoundNumber}\`` -> `name: \`Phase ${newRoundNumber}\``

**Remove Round button title (line 510):**
- `title="Remove Round"` -> `title="Remove Phase"`

**Save button text (line 566):**
- "Save Round Settings" -> "Save Phase Settings"

**Add button text (line 570):**
- "Add New Round" -> "Add New Phase"

NOTE: Keep internal function names (addRound, removeRound) and variable names (newRoundNumber, lastRound, editableLeague.currentRound access in removeRound function) unchanged. The v-model still binds to editableLeague.currentPhase which syncs with the league data.
  </action>
  <verify>
Run `npm run build` to verify no compilation errors.
Search for user-visible "Round" in template strings - should find none.
  </verify>
  <done>
LeagueSetupView shows "Current Phase", "Phase Configuration", "Phase N", "Phase Name", "Save Phase Settings", "Add New Phase" in all user-visible locations.
  </done>
</task>

</tasks>

<verification>
After all tasks complete:

1. Build verification:
   ```bash
   npm run build
   ```
   Expected: Build succeeds with no errors

2. Terminology verification:
   ```bash
   # Check DashboardView for user-visible "Round" text
   grep -n '".*Round.*"' app/components/views/DashboardView.vue
   # Should return empty or only data-related matches

   # Check LeagueSetupView for user-visible "Round" text
   grep -n '".*Round.*"' app/components/views/LeagueSetupView.vue
   # Should return empty or only data-related matches
   ```

3. Property access verification:
   ```bash
   # Verify currentPhase is accessed correctly
   grep -n 'currentPhase' app/components/views/DashboardView.vue
   grep -n 'currentPhase' app/components/views/LeagueSetupView.vue
   ```

4. Runtime verification (manual):
   - Navigate to /dashboard - verify "Current Phase" heading, "for current phase" text, "Phases Schedule" section
   - Navigate to /setup - verify "Current Phase" selector, "Phase Configuration" heading, "Phase N" subheadings
   - Check browser console for any errors
</verification>

<success_criteria>
1. DashboardView displays "Current Phase" heading
2. DashboardView displays "for current phase" in army lists card
3. DashboardView displays "Phases Schedule" section heading
4. DashboardView correctly accesses league.currentPhase
5. LeagueSetupView displays "Current Phase" selector label
6. LeagueSetupView displays "Phase Configuration" heading
7. LeagueSetupView displays "Phase N" in subheadings and options
8. LeagueSetupView displays "Phase Name" field label
9. LeagueSetupView buttons show "Save Phase Settings" and "Add New Phase"
10. Application compiles without errors
11. No console errors when navigating to /dashboard and /setup
</success_criteria>

<output>
After completion, create `.planning/phases/04-user-interface/04-04-SUMMARY.md`
</output>
